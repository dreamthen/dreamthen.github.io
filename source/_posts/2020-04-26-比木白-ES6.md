---
title: 比木白-ES6
date: 2020-04-26 11:04:47
tags: [ECMAScript 2015, ES6, javascript]
categories: ES6
comments: true
---

# ES6语法重点

在最近阅读了《深入理解ES6》这本书之后,发现ES6中有一些不为人所熟悉的部分却成为了提升开发效率的利器,所以将这些语法重点进行规整总结,分享输出给各位小伙伴.

## 块级作用域

### 临时死区

  ES6中的块级作用域为了防止变量提升,产生了临时死区的方案,也就是说如果你在let、const定义块级作用域变量之前,直接使用此名称的变量,临时死区里面的逻辑就会报错,在执行同步代码度过临时死区之前,使用任何名称的变量都会报错,直到执行过临时死区之后,才会解封.

  ```js
    "use strict"
    //这时候a变量不存在变量提升,会报语法错误
    console.log(a);
    let a = 'a,china,my hometown~';
    console.log(a);
    //这里打印: a,china,my hometown~
  ```

### for循环中的块级作用域

  ES6中for循环块级作用域中使用的let和const定义变量,和在普通的块级作用域中定义变量不同.for循环块级作用域中是循环的每一次都会声明赋值变量,不是对上次迭代变量的叠加或者累计,而是重新赋值声明,值等于上一次迭代变量加一.在for...in循环获取对象的属性集合项中,也是每一次迭代都会重新声明赋值属性.
  
  ```js
    let arr = [];
    for(let i = 0; i < 10; i++) {
        arr.push(()=>{
            console.log(i);
        });
    }
    arr.forEach((item) => {
        item();
    });
    //这里打印:
    //0
    //1
    //2
    //3
    //4
    //5
    //6
    //7
    //8
    //9
  ```

### 块级作用域最佳实践

  > ES6块级作用域最佳实践

  尽量在业务开发中,全部使用const定义数据,只有认识到此数据是要进行计算的,就使用let定义数据.
  
  > 原因

  大部分的数据是不可变的,只是作为查询或者展示,而可变的用于前端计算赋值的数据在实际应用场景当中很少很少.
  